server:
  host: "127.0.0.1"
  port: 18081

# 기본 업스트림 (라우팅 비대상 모델 + 모든 비-메시지 요청)
default:
  url: "https://api.anthropic.com"

# 모델별 라우팅 규칙
routes:
  - match: "glm"
    # fallback: true  # 기본값 — 외부 제공자 실패 시 Anthropic API로 자동 재시도
    upstream:
      url: "https://api.z.ai/api/anthropic"
      auth:
        header: "x-api-key"
        value: "${ZAI_API_KEY}"

  - match: "kimi"
    fallback: false  # 폴백 비활성화 — 실패 시 에러 그대로 반환
    upstream:
      url: "https://api.kimi.com/coding"
      auth:
        header: "Authorization"
        value: "Bearer ${KIMI_API_KEY}"
